[Unit]
Description=Minecraft Server
After=network.target

[Service]
Type=simple
User=ec2-user
Group=minecraft
WorkingDirectory=/opt/aws-minecraft-server/minecraft

ExecStartPre=/opt/aws-minecraft-server/bin/StartPre.sh
ExecStart=/opt/aws-minecraft-server/bin/Start.sh
ExecStop=/opt/aws-minecraft-server/bin/Stop.sh
ExecStopPost=/opt/aws-minecraft-server/bin/StopPost.sh
TimeoutStopSec=90

# Restart behavior
Restart=on-failure
RestartSec=10

# Output to journal
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
